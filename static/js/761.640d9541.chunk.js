"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[761],{761:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var r,o,i,a,c,p,d,s,u,l=t(439),h=t(969),f=t(168),x=t(444),g=x.ZP.div(r||(r=(0,f.Z)(["\n   {\n    top: 0;\n    left: 0;\n    position: sticky;\n    z-index: 1100;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 64px;\n    padding-right: 24px;\n    padding-left: 24px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    color: #fff;\n    background-color: rgb(66 68 82);\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n      0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  }\n"]))),m=x.ZP.form(o||(o=(0,f.Z)(["\n   {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n"]))),v=x.ZP.button(i||(i=(0,f.Z)(["\n   {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://www.svgrepo.com/show/508172/search-alt.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n    &:hover {\n      opacity: 1;\n    }\n  }\n"]))),b=x.ZP.span(a||(a=(0,f.Z)(["\n   {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n"]))),Z=x.ZP.input(c||(c=(0,f.Z)(["\n   {\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n    &::placeholder {\n      font: inherit;\n      font-size: 18px;\n    }\n  }\n"]))),w=(x.ZP.div(p||(p=(0,f.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 500px);\n  gap: 16px;\n  padding: 20px;\n"]))),x.ZP.div(d||(d=(0,f.Z)(["\n  border: 1px solid black;\n  border-radius: 4px;\n  > a {\n    text-decoration: none;\n  }\n"]))),x.ZP.h3(s||(s=(0,f.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n"]))),t(791)),j=t(184),k=function(n){var e=n.onSubmit,t=(n.movieSearch,(0,w.useState)("")),r=(0,l.Z)(t,2),o=r[0],i=r[1];return(0,j.jsx)(g,{children:(0,j.jsxs)(m,{onSubmit:function(n){n.preventDefault(),""!==o.trim()?(e(o),i("")):alert("Type something in search input")},children:[(0,j.jsx)(v,{type:"submit",children:(0,j.jsx)(b,{children:"Search"})}),(0,j.jsx)(Z,{onChange:function(n){i(n.currentTarget.value.toLowerCase())},type:"text",name:"input",autocomplete:"off",value:o,autoFocus:!0,autoComplete:"off",placeholder:"Search images and photos"})]})})},y=t(537),P=x.ZP.div(u||(u=(0,f.Z)(["\n  font-size: 1.2rem;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 50px;\n"]))),S=t(87),_=function(){var n=(0,S.lr)(),e=(0,l.Z)(n,2),t=e[0],r=e[1],o=t.get("query"),i=(0,w.useState)([]),a=(0,l.Z)(i,2),c=a[0],p=a[1],d=(0,w.useState)("idle"),s=(0,l.Z)(d,2),u=s[0],f=s[1],x=(0,w.useState)(null),g=(0,l.Z)(x,2),m=g[0],v=g[1];(0,w.useEffect)((function(){o&&(f("pending"),(0,h.Fg)(o).then((function(n){0!==n.length?(p(n),f("resolved")):f("rejected")})).catch((function(n){v(n),f("rejected")})))}),[o]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(k,{onSubmit:function(n){r(""!==n?{query:n}:{})}}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{children:"Trending today"}),"idle"===u&&(0,j.jsx)(P,{children:"Start page"}),"pending"===u&&(0,j.jsx)("div",{children:"Loading...."}),"rejected"===u&&(0,j.jsxs)(P,{children:["Oopps...no movies was found.",!m&&(0,j.jsx)("div",{children:m})]}),"resolved"===u&&(0,j.jsx)(y.Z,{movies:c})]})]})}},969:function(n,e,t){t.d(e,{Fg:function(){return u},Hx:function(){return f},KH:function(){return d},uV:function(){return x},wR:function(){return h}});var r=t(861),o=t(757),i=t.n(o),a=t(243),c="https://api.themoviedb.org/3/",p="5d369441bd67a61471936fd86df9d048";function d(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(p));case 2:return e=n.sent,n.abrupt("return",e.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("".concat(c,"search/movie?api_key=").concat(p,"&language=en-US&include_adult=false&query=").concat(e));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var h=function(n){return fetch("".concat(c,"movie/").concat(n,"?api_key=").concat(p,"&language=en-US")).then((function(n){return n.ok?n.json():Promise.reject(new Error("Oopps...no movies info"))}))},f=function(n){return fetch("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(p,"&language=en-US")).then((function(n){return n.ok?n.json():Promise.reject(new Error("Oopps...no reviews"))}))},x=function(n){return fetch("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(p)).then((function(n){return n.ok?n.json():Promise.reject(new Error("Oopps...no cast"))}))}},537:function(n,e,t){t.d(e,{Z:function(){return f}});var r,o,i,a=t(87),c=t(689),p=t(168),d=t(444),s=d.ZP.div(r||(r=(0,p.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 500px);\n  gap: 16px;\n  padding: 20px;\n"]))),u=d.ZP.div(o||(o=(0,p.Z)(["\n  border: 1px solid black;\n  border-radius: 4px;\n  > a {\n    text-decoration: none;\n  }\n"]))),l=d.ZP.h3(i||(i=(0,p.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n"]))),h=t(184),f=function(n){var e=n.movies,t=(0,c.TH)();return(0,h.jsx)(s,{children:e.map((function(n){return(0,h.jsx)(u,{children:(0,h.jsxs)(a.rU,{to:"".concat(n.id),state:{from:t},children:[(0,h.jsx)("img",{src:n.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(n.poster_path):"https://via.placeholder.com/500x750",alt:n.title}),(0,h.jsx)(l,{children:n.name})]})},n.id)}))})}}}]);
//# sourceMappingURL=761.640d9541.chunk.js.map